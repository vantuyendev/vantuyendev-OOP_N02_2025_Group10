<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title th:text="#{app.title} + ' - Customer Portal'">Shop Management System - Customer Portal</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- External CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <!-- Custom CSS -->
    <link href="/css/modern-dashboard.css" rel="stylesheet">
    
    <style>
        .customer-header {
            background: linear-gradient(135deg, #6f42c1 0%, #e83e8c 100%);
            color: white;
            padding: 1rem 0;
            margin-bottom: 2rem;
        }
        
        .customer-card {
            border-left: 4px solid #6f42c1;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .permission-badge {
            background: linear-gradient(45deg, #6f42c1, #e83e8c);
            color: white;
            padding: 0.25rem 0.75rem;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
        }
        
        .product-showcase {
            transition: transform 0.2s;
        }
        
        .product-showcase:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body>
    <!-- Top Navigation Bar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container-fluid">
            <div class="d-flex align-items-center">
                <i class="bi bi-shop me-2"></i>
                <span class="navbar-brand mb-0 h1" th:text="#{nav.title}">Shop Management</span>
            </div>
            
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link active" href="/shop/dashboard" th:text="#{nav.dashboard}">Dashboard</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/shop/products" th:text="#{nav.products}">Products</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/shop/customers" th:text="#{nav.customers}">Customers</a>
                    </li>
                    <li class="nav-item ms-3">
                        <a class="nav-link" href="/shop/search" th:text="#{nav.search}">Search</a>
                    </li>
                </ul>
                
                <div class="d-flex align-items-center">
                    <span class="navbar-text me-3" th:text="'Welcome, ' + ${userSession.name}">Welcome, User</span>
                    <a href="/shop/profile" class="btn btn-outline-light btn-sm me-2" th:text="#{nav.profile}">Profile</a>
                    <a href="/shop/logout" class="btn btn-outline-light btn-sm" th:text="#{nav.logout}">Logout</a>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <!-- Welcome Banner -->
        <div class="row mb-4">
            <div class="col-md-12">
                <div class="card customer-card">
                    <div class="card-body">
                        <div class="row align-items-center">
                            <div class="col-md-2 text-center">
                                <i class="bi bi-person-circle text-purple" style="font-size: 4rem; color: #6f42c1;"></i>
                            </div>
                            <div class="col-md-10">
                                <h4>Chào mừng đến với cửa hàng của chúng tôi!</h4>
                                <p class="mb-1"><strong>Tên:</strong> <span th:text="${userSession.name}">Customer Name</span></p>
                                <p class="mb-1" th:if="${userSession.email}"><strong>Email:</strong> <span th:text="${userSession.email}">customer@email.com</span></p>
                                <p class="mb-1" th:if="${userSession.phone}"><strong>Điện thoại:</strong> <span th:text="${userSession.phone}">+1-555-0101</span></p>
                                <p class="mb-0"><strong>Khách hàng ID:</strong> <span th:text="${userSession.userId}">CUST001</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Shop Stats for Customer -->
        <div class="row mb-4">
            <div class="col-md-4">
                <div class="card customer-card product-showcase">
                    <div class="card-body text-center">
                        <i class="bi bi-box-seam-fill text-warning fs-1"></i>
                        <h3 class="mt-2" th:text="${productCount ?: 0}">0</h3>
                        <p class="text-muted">Sản phẩm có sẵn</p>
                        <a href="/shop/products" class="btn btn-warning btn-sm">
                            <i class="bi bi-eye me-1"></i>Xem sản phẩm
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card customer-card product-showcase">
                    <div class="card-body text-center">
                        <i class="bi bi-search text-info fs-1"></i>
                        <h3 class="mt-2">Tìm kiếm</h3>
                        <p class="text-muted">Tìm sản phẩm yêu thích</p>
                        <a href="/shop/search" class="btn btn-info btn-sm">
                            <i class="bi bi-search me-1"></i>Tìm ngay
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="card customer-card product-showcase">
                    <div class="card-body text-center">
                        <i class="bi bi-person-gear" style="color: #6f42c1;" class="fs-1"></i>
                        <h3 class="mt-2">Tài khoản</h3>
                        <p class="text-muted">Quản lý thông tin cá nhân</p>
                        <a href="/shop/profile" class="btn btn-sm" style="background-color: #6f42c1; color: white;">
                            <i class="bi bi-gear me-1"></i>Cài đặt
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Customer Features -->
        <div class="row">
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header text-white" style="background-color: #6f42c1;">
                        <h5 class="mb-0"><i class="bi bi-shop me-2"></i>Mua sắm</h5>
                    </div>
                    <div class="card-body">
                        <div class="list-group list-group-flush">
                            <a href="/shop/products" class="list-group-item list-group-item-action">
                                <i class="bi bi-box me-2"></i>Xem tất cả sản phẩm
                            </a>
                            <a href="/shop/search" class="list-group-item list-group-item-action">
                                <i class="bi bi-search me-2"></i>Tìm kiếm sản phẩm
                            </a>
                            <div class="list-group-item">
                                <i class="bi bi-heart me-2"></i>Danh sách yêu thích
                                <small class="text-muted">(Sắp có)</small>
                            </div>
                            <div class="list-group-item">
                                <i class="bi bi-cart me-2"></i>Giỏ hàng
                                <small class="text-muted">(Sắp có)</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-6">
                <div class="card">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0"><i class="bi bi-shield-check me-2"></i>Quyền truy cập</h5>
                    </div>
                    <div class="card-body">
                        <div class="list-group list-group-flush">
                            <div class="list-group-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>Xem thông tin sản phẩm
                            </div>
                            <div class="list-group-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>Tìm kiếm sản phẩm
                            </div>
                            <div class="list-group-item">
                                <i class="bi bi-check-circle-fill text-success me-2"></i>Quản lý thông tin cá nhân
                            </div>
                            <div class="list-group-item">
                                <i class="bi bi-x-circle-fill text-danger me-2"></i>Không thể thay đổi dữ liệu hệ thống
                            </div>
                            <div class="list-group-item">
                                <i class="bi bi-x-circle-fill text-danger me-2"></i>Không thể xem thông tin nhân viên
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Quick Actions -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5 class="mb-0"><i class="bi bi-lightning me-2"></i>Thao tác nhanh</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-3 text-center mb-3">
                                <a href="/shop/products" class="btn btn-outline-warning w-100">
                                    <i class="bi bi-box d-block fs-3"></i>
                                    <small>Sản phẩm</small>
                                </a>
                            </div>
                            <div class="col-md-3 text-center mb-3">
                                <a href="/shop/search" class="btn btn-outline-info w-100">
                                    <i class="bi bi-search d-block fs-3"></i>
                                    <small>Tìm kiếm</small>
                                </a>
                            </div>
                            <div class="col-md-3 text-center mb-3">
                                <a href="/shop/profile" class="btn w-100" style="border: 1px solid #6f42c1; color: #6f42c1;">
                                    <i class="bi bi-person-gear d-block fs-3"></i>
                                    <small>Tài khoản</small>
                                </a>
                            </div>
                            <div class="col-md-3 text-center mb-3">
                                <a href="/shop/logout" class="btn btn-outline-danger w-100">
                                    <i class="bi bi-box-arrow-right d-block fs-3"></i>
                                    <small>Đăng xuất</small>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Customer Notice -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    <strong>Lưu ý:</strong> Với tài khoản khách hàng, bạn có thể xem thông tin sản phẩm và tìm kiếm. 
                    Để mua hàng hoặc quản lý đơn hàng, vui lòng liên hệ với nhân viên bán hàng.
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
